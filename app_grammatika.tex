
Чтобы иметь строгую математическую основу для выводов и утверждений
относительно
 языка вначале необходимо определить это понятие абстрактно, как формальную
 систему \cite{MARTYNENKO},
 \cite{AHO_ULLMAN},\cite{GLADKY_MELCHUK}.

 {\opred \label{def_alphavit}
 Произвольное непустое конечное множество $A$ называют \textsl{алфавитом}. Элементы
 множества $A$ называют \textsl{символами} (\textsl{буквами}) этого
 алфавита. Понятие символ является неопределяемым.
 }\\

 Примеры алфавитов:  $\{0,1\}$~--- двоичный алфавит, $\{$.,---$\}$~--- алфавит азбуки Морзе,
 $\{$А, Б, В, $\dots$, Я$\}$~--- кириллица.

 {\opred \label{def_string}
 Любую конечную последовательность символов (в т.\,ч. и пустую,
 обозначаемую далее $\varepsilon$)  алфавита нызывают \textsl{цепочкой} (\textsl{строкой},
 \textsl{string}, \textsl{словом}).
 } \\

 Множество всех цепочек из алфавита $A$ обозначим $A^{*}$.
 Например, если $A = \{0,1\}$~--- двоичный алфавит, то
 $$
 A^{*} = \{\varepsilon, 0, 1, 00, 11, 01, 10, 000, 001, 011, \dots \}.
 $$
 Множество всех непустых цепочек обозначим $A^{+}$. Таким образом, имеем
 соотношение: $A^{*} = A^{+} \bigcup \; \{\varepsilon\}$.

 {\opred \label{def_lang}
 Подмножество $L_{A}$ множества $A^{*}$
 называют \textsl{языком} над
 $A$.
 } \\

 Есть различные способы задания языка, т.\,е. методы определения всех цепочек, составляющих
 язык.
 Для достаточно сложных
 языков часто применяют не словесное описание, а \emph{формальное}, с тем, чтобы
 принадлежность цепочки языку можно было
 установить (\emph{распознать} язык), исходя только из определений. Наиболее распостранен способ
 задания языка с помощью
 \emph{порождающей грамматики}\footnote
                         {
                         Грамматика (греч.~\scalebox{0.95}[0.85]{$\gr{gramm}\breve{\gr{a}}\gr{tik}\acute{\gr{h}}$}~---
                         от \scalebox{0.95}[0.85]{$\gr{gr}\acute{\gr{a}}\gr{mma}$}~--- буква, написание)
                         строй языка, т. е. система языковых форм, способов словопроизводства,
                         синтаксических конструкций.
                         }.

{\opred \label{def_meta_symb}
 \textsl{Метаалфавитом} для $A$ называют алфавит $M$, не пересекающийся с $A$. Элементы
 $M$ называют \textsl{метасимволами}\footnote
                                   {
                                    От греч.~\scalebox{0.95}[0.85]{$\gr{meta}$}~--- вслед за
                                   тем, после, переход к чему-либо другому.
                                   \label{foot_meta}
                                   }
  (\textsl{нетерминалами}, \textsl{nonterminal}).
 } \\

 {\opred \label{def_grammar}
 Пусть $M$~--- метаалфавит для $A$. \textsl{Грамматикой} языка $L_{A}$ называют конечную
 систему вырыжений (систему \textsl{правил вывода}, \textsl{свёрток}, \textsl{reduce}),
 вида
 $$
 \alpha \rightarrow \beta,
 $$
 где $\alpha \in (A \bigcup M)^{+}$, $\beta \in (A \bigcup
 M)^{*}$, символ <<$\rightarrow$>> означает: <<из $\alpha$
 \textsl{выводится} $\beta$>>, вместо него употребляются также
 обозначения:
 <<\lstinline !::=!>>, <<:>>. В грамматике выделяют один метасимвол,
 называемый \textsl{главным} (\textsl{начальным},
 \textsl{аксиомой}). Содержательно любое правило вывода имеет
 смысл \textsl{подстановки} правой его части в левую.

 Языком, \textsl{порожденным данной грамматикой}, является
 множество цепочек $A^{*}$, выводимых (необязательно непосредственно,
 напрямую) из начального метасимвола.
 } \\

 Цепочки из $M^{+}$, используемые в грамматике, составляют, таким
 образом, некоторый \emph{метаязык}\footnote
                                   {См. сноску на
                                   стр.~\pageref{foot_meta}.
                                   },
  т.\,е. язык, средствами которого
 производится описание исходного языка. Например, при изучении
 иностранного языка или, скажем, Pascal'я, его описание производится на родном языке.

 Легко видеть, что если в цепочке имеется метасимвол, то ее можно
 преобразовать далее, если использовать какое-либо правило вывода
 с этим метасимволом в левой части правила. В противном случае
 цепочку уже нельзя преобразовывать. Поэтому символы из $A^{*}$
 называют \emph{терминалами}\footnote
                     {
                     Англ. terminal~--- заключительный,
                     конечный, окончательный.
                     },
  другое название~--- \emph{токены} (tokens), а метасимволы называют
 \emph{нетерминалами}. Метасимволы можно трактовать как названия понятий,
 которые вводятся для формального описания языка, поэтому часто для
 ясности при обозначении нетерминалов используют эти названия, заключенные в
 угловые скобки.

 \emph{Пример №1}.\label{grammar_example_1} Грамматика простейших арифметических
 выражений (термов) задается правилами
 %%----------------------------------------------------------
  \begin{lstlisting}
       <терм>    ::=   x | y
                   |  (<терм>)
                   |  <терм> + <терм>
                   |  <терм> - <терм>
                   |  <терм> * <терм>
                   |  <терм> / <терм>
  \end{lstlisting}
 %%----------------------------------------------------------

Здесь <<$\lstinline !::=!$>> обозначает подстановку правой части
 правила вместо левой, а <<|>>~--- логическое <<или>>, <<\lstinline!<терм>!>>~---
 главный метасимвол. Такой способ записи называется
 \emph{нормальной формой Бэкуса~--- Наура} (J.\,W.~Backus, P.~Naur). \label{BNF}

 При записи правил с одинаковыми правыми частями можно пользоваться
 сокращённой формой: вместо
 %%----------------------------------------------------------
  \begin{lstlisting}
       лев_часть   ::=  пр_часть1
       лев_часть   ::=  пр_часть2
       лев_часть   ::=  пр_часть3
  \end{lstlisting}
 %%----------------------------------------------------------
 пишут
 %%----------------------------------------------------------
  \begin{lstlisting}
       лев_часть   ::=  пр_часть1
                     |  пр_часть2
                     |  пр_часть3
  \end{lstlisting}
 %%----------------------------------------------------------
 (для лучшей читабельности альтернативы обычно принято располагать в отдельных
 строках).
 Как и в приведенном примере,
 грамматика часто задаётся без явного указания множеств теминалов
 и нетерминалов. Предполагается, что грамматика содержит только те
 символы, которые фигурируют в правилах вывода (в примере это единственный метасимвол
 \lstinline !<терм>! и терминалы \lstinline !(, ), +, -, *, /, x, y!~), главный
 метасимвол обычно записывается в левой части самого первого
 правила.

 \emph{Пример №2.}\label{grammar_example_2} Калькулятор с постфиксной (польской) записью.
 Постфиксная запись означает, что знаки операций (действий) в такой нотации
 располагаются после операндов: вместо <<$2 + 5$>> пишут <<$2 \, 5 +$>>,
 вместо <<$2 + 5*3$>> --- <<$2 \, 5 \, 3 * +$>> и т.~д.
 %%----------------------------------------------------------
 \begin{lstlisting}
     <операнд> ::=  NUMBER
                  | <операнд> <операнд>   +
                  | <операнд> <операнд>   -
                  | <операнд> <операнд>   *
                  | <операнд> <операнд>   /
 \end{lstlisting}
 %%----------------------------------------------------------

 Один и тот же язык, очевидно, можно описать при помощи разных наборов
 понятий и, следовательно, задать различными грамматиками.

 Задача \emph{синтаксического\footnote{
                             \label{def_syntax}
                             \emph{Синтаксис} (\emph{греч.}
                             \scalebox{0.95}[0.85]{$\gr{s}\acute{\gr{u}}\gr{ntaxis}$}~---
                             \emph{конструкция, построение, порядок})~---
                             совокупность правил языка, определяющих формирование
                             его элементов.
                             }
  анализа}~--- определить является ли
  данная цепочка правильной, т.е. принадлежащей языку, и построить
 для нее последовательность выводов (<<свёртку>>) к главному
 метасимволу. При этом, если правила грамматики (подстановки) применяются только
 к самому левому (правому) нетерминалу, то говорят, что вывод
 (разбор) является \emph{левосторонним} (\emph{правосторонним}). Кроме
 того, существуют два способа синтаксического разбора:
 \emph{восходящий} и \emph{нисходящий}. При нисходящем разборе
 вывод строится от главного метасимвола, при восходящем~--- в
 обратном направлении.

 Произведем последовательный вывод (левосторонний и нисходящий) цепочки
 <<\lstinline !(x + y)*x!>> в вышеприведенной грамматике термов
 %%----------------------------------------------------------
\begin{lstlisting}
<терм> ::= <терм>*<терм> ::= (<терм>)*<терм>
        ::= (<терм> + <терм>)*<терм>::=(x + <терм>)*<терм>
        ::= (x + y)*<терм> ::= (x + y)*x
\end{lstlisting}
%%----------------------------------------------------------

 Следовательно, эта цепочка <<\lstinline !(x + y)*x!>> принадлежит языку (является
 правильным <<простейшим арифметическим выражением>>),
 порожденному этой грамматикой, а, к примеру, цепочки
 <<\lstinline !(y + x!>> и
 <<\lstinline !-x*y!>> не принадлежат, т.к. для них нельзя построить вывод на основе
 указанных правил. Вывод можно также представить в виде <<дерева>>,
 для нашего случая:

 %%-----------------------------------------------------------------------
 \begin{figure}[h]
 \begin{center}
 \includegraphics[height = 0.27\textheight, width = 0.38\textwidth]
 {pict/reduce_01.pdf}
 \vspace{0.8ex}
  \caption{Дерево вывода}
  \label{pict_reduce_01_pdf}
 \end{center}
 \end{figure}
 %%------------------------------------------------------------------------

 {\opred \label{def_grammar_neodnoz}
 Грамматику называют \textsl{неоднозначной}, если она допускает цепочки, для
 вывода которых существуют два различных дерева. В противном
 случае грамматику называют \textsl{однозначной}.
 } \\

 Известно, что проблема определения однозначности грамматики в
 общем случае неразрешима, т.\,е. не существует алгоритма, который
 может определить однозначность \emph{любой} грамматики.

 Грамматики различаются по виду их правил вывода. Нас в дальнейшем
 будут интересовать только те, которые в классификации Н.~Хомского
 (N.~Chomsky) называются <<контекстно-свободными>>.

 {\opred \label{def_KC_grammar}
 Грамматика называется \textsl{контекстно-свободной} или КС-грамматикой (context-free grammar),
 если каждое
 её правило имеет вид
 %%----------------------------------------------------------
  \begin{lstlisting}
                          a ::= b,
  \end{lstlisting}
 %%----------------------------------------------------------
 где $a \in M^{+}$, $b \in (A \bigcup  M)^{+}$.
 } \\

 Другими словами, это грамматика, у которой левые части всех правил являются
 нетерминалами. Для практики наиболее важны именно контекстно-свободные грамматики,
 так как ими определяется достаточно широкий класс языков и хорошо изучены алгоритмы
 для распознавания языка, реализуемые \emph{автоматами со стеком}
 (стр.~\pageref{_app_app_finite_automaton}).
Именно КС-грамматиками задаётся большинство
 языков программирования.

 {\opred \label{def_KC_lang}
 Язык, который может быть задан КС-грам-матикой, называется
 \textsl{контекстно-свободным языком}.
 }\\

























 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
